(function(a){a.fn.easyView=function(b,c){var d=a(this.selector);if('undefined'==typeof d.data('easyView')){'string'==typeof b&&(b={});var e={selector:d,currentRatio:100,normalContrast:!0,defaults:{container:'body',tags:['h1','h2','h3','h4','h5','h6','div','p','a','span','strong','em','ul','ol','li'],step:10,bootstrap:!0,defaultMarkup:'<a href="#decrease" class="decrease-text">Decrease font size</a><a href="#normal" class="reset-text">Normal font size</a><a href="#increase" class="increase-text">Increase font size</a><a href="#contrast" class="contrast-text">Change contrast</a>',increaseSelector:'.increase-text',decreaseSelector:'.decrease-text',normalSelector:'.reset-text',contrastSelector:'.contrast-text'},options:{},affectedTags:[],mergeOptions:function(f){a.extend(this.options,this.defaults,f)},storeDefaults:function(){a.each(this.affectedTags,function(f,g){a(g).each(function(){var h=a(this),j=h.css('font-size');-1<j.indexOf('%')?(h.data('originalSize',parseInt(j.replace('%',''))),h.data('originalUnit','%')):(h.data('originalSize',parseInt(j.replace(j.substr(-2),''))),h.data('originalUnit',j.substr(-2))),h.data('originalBackground',h.css('background-color')),h.data('originalColor',h.css('color'))})}),a(this.options.container).data('originalBackground',a(this.options.container).css('background-color')),a(this.options.container).data('originalColor',a(this.options.container).css('color'))},createDefaultMarkup:function(){''==d.html()&&d.html(this.options.defaultMarkup)},setActions:function(){var f=this;d.find(this.options.decreaseSelector).click(function(g){g.preventDefault(),f.decreaseFont()}),d.find(this.options.normalSelector).click(function(g){g.preventDefault(),f.resetFont()}),d.find(this.options.increaseSelector).click(function(g){g.preventDefault(),f.increaseFont()}),d.find(this.options.contrastSelector).click(function(g){g.preventDefault(),f.changeContrast()})},fetchTags:function(){var f=this.affectedTags,g=this.options;a.each(this.options.tags,function(h,j){f.push(g.container+' '+j)})},decreaseFont:function(){10<=this.currentRatio-this.options.step&&(this.currentRatio-=this.options.step),this.changeFontSize()},resetFont:function(){this.currentRatio=100,this.changeFontSize()},increaseFont:function(){this.currentRatio+=this.options.step,this.changeFontSize()},changeFontSize:function(f){'undefined'!=typeof f&&10<parseInt(f)&&(this.currentRatio=f);var g=this.currentRatio;a.each(this.affectedTags,function(h,j){a(j).each(function(){var k=a(this);k.css('font-size',k.data('originalSize')*(g/100)+k.data('originalUnit'))})})},changeContrast:function(){const f=this.normalContrast;a(this.affectedTags.join(',')).each(function(){const g=a(this);f?g.css('color','#fff'):g.css('color',g.data('originalColor'))}),a(this.options.container).css('color',this.normalContrast?'#fff':a(this.options.container).data('originalColor')),a(this.options.container).css('background-color',this.normalContrast?'#000':a(this.options.container).data('originalBackground')),this.normalContrast=!this.normalContrast},startPlugin:function(f){this.mergeOptions(f),this.fetchTags(),this.storeDefaults(),this.createDefaultMarkup(),this.setActions()},executeFunction:function(f,g){switch(f){case'decrease':this.decreaseFont();break;case'reset':this.resetFont();break;case'increase':this.increaseFont();break;case'contrast':'undefined'!=typeof g&&(g?this.normalContrast=!0:this.normalContrast=!1),this.changeContrast();break;case'setRatio':this.changeFontSize(ratio);break;default:alert('Called function does not exist!');}},destroy:function(){this.resetFont(),this.normalContrast=!1,this.changeContrast(),d.removeData('easyView')}};e.startPlugin(b),d.data('easyView',e)}else{var e=d.data('easyView');'object'==typeof b?(e.destroy(),e.startPlugin(b)):'string'==typeof b?e.executeFunction(b,c):alert('Invalid params to start')}}})(jQuery);